{"name":"Default workspace","clients":[{"id":"f2e9fde5-34e7-4c3f-8a3f-df7f0b68faa5","name":"LegendOfFantasyWar","actions":[],"modelers":["176d60fa-80d1-401f-8668-39095d427f09","3f4559e5-cee0-4c80-a873-1d44e156beda"],"objects":{"1079":{"_id":1079,"name":"Mazon","level":18,"heroes":[{"id":6,"level":15},{"id":7,"level":15},{"id":505,"level":17}],"_modeler":"3f4559e5-cee0-4c80-a873-1d44e156beda","_updatedAt":1654068318412},"credentials":{"_id":"credentials","key1":"295","key2":"575","key3":"685","_modeler":"176d60fa-80d1-401f-8668-39095d427f09","_updatedAt":1654068318412}}}],"actions":[{"id":"188c9ce8-049f-4d8b-ad3b-f06ab45d24d8","name":"My Timed Action","trigger":"// Define rules that describes if the packet should trigger the Action. \nfunction shouldTriggerFromPacket(socketIndex, packet) {\n    return false;\n}\n\n// Define rules that describes if the specific time should trigger the Action. \nfunction shouldTriggerFromTime(timeSinceStartup) {\n    return timeSinceStartup % 10 === 0; // Will run every 10th second\n}","script":"// sendMessage(socketIndex, packet)\nfunction runScript(objects, sendMessage) {\n    log(\"Running Action\");\n}"},{"id":"fa45a166-791e-4c57-bb52-cbfa496bc1b7","name":"UserData Logger","trigger":"// Define rules that describes if the packet should trigger the Action. \nfunction shouldTriggerFromPacket(socketIndex, packet) {\n    if (socketIndex !== 0) {\n        return false;\n    }\n\n    const obj = JSON.parse(packet);\n    return obj.t === 'USER_DATA';    \n}\n\n// Define rules that describes if the specific time should trigger the Action. \nfunction shouldTriggerFromTime(timeSinceStartup) {\n    return false;\n}","script":"// sendMessage(socketIndex, packet)\nfunction runScript(objects, sendMessage) {\n    log(\"Running USER_DATA Action\");\n}"}],"modelers":[{"id":"3f4559e5-cee0-4c80-a873-1d44e156beda","name":"PlayerBase","appearanceHTML":"<div class=\"wrapper\">\n    <div class=\"field\">\n        Id: {_id}\n    </div>\n\n    <div class=\"field\">\n        Name: {name}\n    </div>\n\n    <div class=\"field\">\n        Level: {level}\n    </div>\n  </div>\n  <style>\n    .wrapper {\n        position: absolute;\n        left: 0;\n        right: 0;\n        top: 0;\n        bottom: 0;\n        background: #444;\n    }\n    \n    .field {\n        font-size: 12px;\n        color: white;\n        background: #999;\n        margin: 10px;\n        border: 1px solid #333;\n        padding: 10px;\n    }\n  </style>","rules":{"update":"// Define rules that describes if the packet creates or updates an object. \nfunction isUpdateObjectRequest(socketIndex, packet) {\n    if (socketIndex !== 0) {\n        return false;\n    }\n\n    return packet.p.p.playerBase !== undefined;\n}\n","map":"// Define how the object will look like.\n// Objects must always contain \"_id\" property\nfunction mapObject(packet) {\n    return {\n        _id: packet.p.p.playerBase.id,\n        name: packet.p.p.playerBase.nick,\n        level: packet.p.p.playerBase.level,\n        heroes: packet.p.p.heroes.map(h => ({\n            id: h.id,\n            level: h.level\n        }))\n    };\n}\n"}},{"id":"176d60fa-80d1-401f-8668-39095d427f09","name":"KeyCredentials","appearanceHTML":"<div class=\"wrapper\">\n    <div class=\"field\">\n        Key1: {key1}\n    </div>\n\n    <div class=\"field\">\n        Key2: {key2}\n    </div>\n\n    <div class=\"field\">\n        Key3: {key3}\n    </div>\n  </div>\n  <style>\n    .wrapper {\n        position: absolute;\n        left: 0;\n        top: 0;\n        bottom: 0;\n        width: 200px;\n        background: transparent;\n    }\n    \n    .field {\n        font-size: 12px;\n        color: black;\n        background: #fff;\n        margin: 10px;\n        border: 1px solid #333;\n        padding: 10px;\n    }\n  </style>","rules":{"update":"// Define rules that describes if the packet creates or updates an object. \nfunction isUpdateObjectRequest(socketIndex, packet) {\n    if (socketIndex !== 0) {\n        return false;\n    }\n\n    return packet.p.c === \"GET_USER_INFO\";\n}\n","map":"// Define how the object will look like.\n// Objects must always contain \"_id\" property\nfunction mapObject(packet) {\n    return {\n        _id: \"credentials\",\n        key1: packet.p.p.playerBase.key1,\n        key2: packet.p.p.playerBase.key2,\n        key3: packet.p.p.playerBase.key3,\n    };\n}\n"}}]}